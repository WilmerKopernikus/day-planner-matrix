<section class="week-view" *ngIf="viewModel() as vm">
  <a routerLink="/calendar" class="back-link">← Back to calendar</a>

  <header class="week-header">
    <div class="week-meta">
      <span class="month-number">{{ vm.monthNumber }}</span>
      <span class="week-number">WEEK {{ vm.weekNumber }}</span>
    </div>
  </header>

  <div class="week-navigation" *ngIf="vm.previous || vm.next">
    <a *ngIf="vm.previous" [routerLink]="vm.previous.commands" class="nav-link previous"
      aria-label="Go to {{ vm.previous.label }}">← {{ vm.previous.label }}</a>
    <a *ngIf="vm.next" [routerLink]="vm.next.commands" class="nav-link next" aria-label="Go to {{ vm.next.label }}">{{
      vm.next.label }} →</a>
  </div>

  <div class="week-days" role="list">
    <article *ngFor="let day of vm.days" class="day-card" role="listitem">
      <p class="day-date">{{ day.dateLabel }}</p>
      <p class="day-label">{{ day.label }}</p>
      <ul class="task-list" *ngIf="day.tasks.length" aria-label="Tasks scheduled for {{ day.isoDate }}">
        <li *ngFor="let task of day.tasks" class="task-pill">
          <span class="task-focus">{{ task.focusArea }}</span>
          <span *ngIf="task.subProjectId" class="task-subproject">{{ getSubProjectName(task) }}</span>
          <span class="task-name">{{ task.name }}</span>
        </li>
      </ul>
    </article>
  </div>
</section>